!function(e,t){if("function"==typeof define&&define.amd)define(["exports","./EventEmitter.js","./ServerClient.js"],t);else if("undefined"!=typeof exports)t(exports,require("./EventEmitter.js"),require("./ServerClient.js"));else{var r={exports:{}};t(r.exports,e.EventEmitter,e.ServerClient),e.Server=r.exports}}(this,function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e,t,r){for(var o=!0;o;){var n=e,i=t,f=r;u=c=s=void 0,o=!1,null===n&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(f)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=i,r=f,o=!0}},f=require("ws"),u=function(e){function t(e){var n=this;o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.wss=new f.Server(e);for(var u=["error","headers","connection"],s=function(){var e=u[c];n.wss.on(e,function(t){var o=new r["default"](t);n.emit(e,o)})},c=0;c<u.length;c++)s()}return n(t,e),t}(t["default"]);e.Server=u,e["default"]=u});